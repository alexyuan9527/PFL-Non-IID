==================================================
Algorithm: Ditto
Dataset: mnist
Number of classes: 10
Total number of clients: 10
Global rounds: 100
Backbone: cnn
Attackers: 4
Ditto lambda: 0.0
Local batch size: 10
Local steps: 1
Local learing rate: 0.005
Local learing rate decay: False
Clients join in each round: 1.0
Clients randomly join: False
Client drop rate: 0.0
Client select regarding time: False
Running times: 1
Using device: cuda
Using DP: False
Auto break: False
Cuda device id: 0
DLG attack: False
Total number of new clients: 0
Fine tuning epoches on new clients: 0
==================================================

============= Running time: 0th =============
Creating server and clients ...
FedAvgCNN(
  (conv1): Sequential(
    (0): Conv2d(1, 32, kernel_size=(5, 5), stride=(1, 1))
    (1): ReLU(inplace=True)
    (2): MaxPool2d(kernel_size=(2, 2), stride=(2, 2), padding=0, dilation=1, ceil_mode=False)
  )
  (conv2): Sequential(
    (0): Conv2d(32, 64, kernel_size=(5, 5), stride=(1, 1))
    (1): ReLU(inplace=True)
    (2): MaxPool2d(kernel_size=(2, 2), stride=(2, 2), padding=0, dilation=1, ceil_mode=False)
  )
  (fc1): Sequential(
    (0): Linear(in_features=1024, out_features=512, bias=True)
    (1): ReLU(inplace=True)
  )
  (fc): Linear(in_features=512, out_features=10, bias=True)
)

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global models
Averaged Train Loss: 2.3046
Averaged Test Accurancy: 0.0806    Std Test Accurancy: 0.0636

Evaluate personalized models
Averaged Train Loss: 2.3046
Averaged Test Accurancy: 0.0806    Std Test Accurancy: 0.0636
------------------------- time cost ------------------------- 33.26500058174133

-------------Round number: 1-------------

Evaluate global models
Averaged Train Loss: 2.1383
Averaged Test Accurancy: 0.5099    Std Test Accurancy: 0.3797

Evaluate personalized models
Averaged Train Loss: 0.1566
Averaged Test Accurancy: 0.9515    Std Test Accurancy: 0.0960
------------------------- time cost ------------------------- 31.777501106262207

-------------Round number: 2-------------

Evaluate global models
Averaged Train Loss: 2.0586
Averaged Test Accurancy: 0.5016    Std Test Accurancy: 0.3867

Evaluate personalized models
Averaged Train Loss: 0.0985
Averaged Test Accurancy: 0.9661    Std Test Accurancy: 0.0834
------------------------- time cost ------------------------- 30.608999490737915

-------------Round number: 3-------------

Evaluate global models
Averaged Train Loss: 2.0094
Averaged Test Accurancy: 0.5224    Std Test Accurancy: 0.3793

Evaluate personalized models
Averaged Train Loss: 0.0734
Averaged Test Accurancy: 0.9734    Std Test Accurancy: 0.0697
------------------------- time cost ------------------------- 31.026999950408936

-------------Round number: 4-------------

Evaluate global models
Averaged Train Loss: 2.0016
Averaged Test Accurancy: 0.5401    Std Test Accurancy: 0.3750

Evaluate personalized models
Averaged Train Loss: 0.0575
Averaged Test Accurancy: 0.9784    Std Test Accurancy: 0.0569
------------------------- time cost ------------------------- 30.88550114631653

-------------Round number: 5-------------

Evaluate global models
Averaged Train Loss: 1.9890
Averaged Test Accurancy: 0.5466    Std Test Accurancy: 0.3710

Evaluate personalized models
Averaged Train Loss: 0.0474
Averaged Test Accurancy: 0.9820    Std Test Accurancy: 0.0392
------------------------- time cost ------------------------- 30.777998447418213

-------------Round number: 6-------------

Evaluate global models
Averaged Train Loss: 1.9849
Averaged Test Accurancy: 0.5435    Std Test Accurancy: 0.3729

Evaluate personalized models
Averaged Train Loss: 0.0406
Averaged Test Accurancy: 0.9844    Std Test Accurancy: 0.0290
------------------------- time cost ------------------------- 30.869999885559082

-------------Round number: 7-------------

Evaluate global models
Averaged Train Loss: 1.9797
Averaged Test Accurancy: 0.5539    Std Test Accurancy: 0.3694

Evaluate personalized models
Averaged Train Loss: 0.0357
Averaged Test Accurancy: 0.9858    Std Test Accurancy: 0.0223
------------------------- time cost ------------------------- 31.00450372695923

-------------Round number: 8-------------

Evaluate global models
Averaged Train Loss: 1.9808
Averaged Test Accurancy: 0.5548    Std Test Accurancy: 0.3702

Evaluate personalized models
Averaged Train Loss: 0.0319
Averaged Test Accurancy: 0.9867    Std Test Accurancy: 0.0190
------------------------- time cost ------------------------- 31.206995725631714

-------------Round number: 9-------------

Evaluate global models
Averaged Train Loss: 1.9823
Averaged Test Accurancy: 0.5515    Std Test Accurancy: 0.3710

Evaluate personalized models
Averaged Train Loss: 0.0290
Averaged Test Accurancy: 0.9873    Std Test Accurancy: 0.0185
------------------------- time cost ------------------------- 30.829501152038574

-------------Round number: 10-------------

Evaluate global models
Averaged Train Loss: 1.9748
Averaged Test Accurancy: 0.5499    Std Test Accurancy: 0.3712

Evaluate personalized models
Averaged Train Loss: 0.0265
Averaged Test Accurancy: 0.9879    Std Test Accurancy: 0.0195
------------------------- time cost ------------------------- 31.271498918533325

-------------Round number: 11-------------

Evaluate global models
Averaged Train Loss: 1.9769
Averaged Test Accurancy: 0.5578    Std Test Accurancy: 0.3707

Evaluate personalized models
Averaged Train Loss: 0.0244
Averaged Test Accurancy: 0.9883    Std Test Accurancy: 0.0179
------------------------- time cost ------------------------- 31.17300033569336

-------------Round number: 12-------------

Evaluate global models
Averaged Train Loss: 1.9740
Averaged Test Accurancy: 0.5548    Std Test Accurancy: 0.3702

Evaluate personalized models
Averaged Train Loss: 0.0226
Averaged Test Accurancy: 0.9887    Std Test Accurancy: 0.0164
------------------------- time cost ------------------------- 31.16349959373474

-------------Round number: 13-------------

Evaluate global models
Averaged Train Loss: 1.9752
Averaged Test Accurancy: 0.5578    Std Test Accurancy: 0.3714

Evaluate personalized models
Averaged Train Loss: 0.0210
Averaged Test Accurancy: 0.9895    Std Test Accurancy: 0.0159
------------------------- time cost ------------------------- 31.21549963951111

-------------Round number: 14-------------

Evaluate global models
Averaged Train Loss: 1.9773
Averaged Test Accurancy: 0.5514    Std Test Accurancy: 0.3701

Evaluate personalized models
Averaged Train Loss: 0.0196
Averaged Test Accurancy: 0.9899    Std Test Accurancy: 0.0144
------------------------- time cost ------------------------- 31.431000232696533

-------------Round number: 15-------------

Evaluate global models
Averaged Train Loss: 1.9768
Averaged Test Accurancy: 0.5574    Std Test Accurancy: 0.3701

Evaluate personalized models
Averaged Train Loss: 0.0183
Averaged Test Accurancy: 0.9899    Std Test Accurancy: 0.0144
------------------------- time cost ------------------------- 31.168500185012817

-------------Round number: 16-------------

Evaluate global models
Averaged Train Loss: 1.9791
Averaged Test Accurancy: 0.5611    Std Test Accurancy: 0.3683

Evaluate personalized models
Averaged Train Loss: 0.0171
Averaged Test Accurancy: 0.9901    Std Test Accurancy: 0.0132
------------------------- time cost ------------------------- 31.398999452590942

-------------Round number: 17-------------

Evaluate global models
Averaged Train Loss: 1.9778
Averaged Test Accurancy: 0.5604    Std Test Accurancy: 0.3689

Evaluate personalized models
Averaged Train Loss: 0.0160
Averaged Test Accurancy: 0.9902    Std Test Accurancy: 0.0133
------------------------- time cost ------------------------- 31.022000312805176

-------------Round number: 18-------------

Evaluate global models
Averaged Train Loss: 1.9755
Averaged Test Accurancy: 0.5604    Std Test Accurancy: 0.3688

Evaluate personalized models
Averaged Train Loss: 0.0150
Averaged Test Accurancy: 0.9904    Std Test Accurancy: 0.0125
------------------------- time cost ------------------------- 31.301501035690308

-------------Round number: 19-------------

Evaluate global models
Averaged Train Loss: 1.9783
Averaged Test Accurancy: 0.5601    Std Test Accurancy: 0.3691

Evaluate personalized models
Averaged Train Loss: 0.0140
Averaged Test Accurancy: 0.9907    Std Test Accurancy: 0.0126
------------------------- time cost ------------------------- 31.170504331588745

-------------Round number: 20-------------

Evaluate global models
Averaged Train Loss: 1.9723
Averaged Test Accurancy: 0.5585    Std Test Accurancy: 0.3686

Evaluate personalized models
Averaged Train Loss: 0.0132
Averaged Test Accurancy: 0.9910    Std Test Accurancy: 0.0119
------------------------- time cost ------------------------- 30.816998720169067

-------------Round number: 21-------------

Evaluate global models
Averaged Train Loss: 1.9704
Averaged Test Accurancy: 0.5585    Std Test Accurancy: 0.3682

Evaluate personalized models
Averaged Train Loss: 0.0124
Averaged Test Accurancy: 0.9913    Std Test Accurancy: 0.0120
------------------------- time cost ------------------------- 30.878499746322632

-------------Round number: 22-------------

Evaluate global models
Averaged Train Loss: 1.9701
Averaged Test Accurancy: 0.5590    Std Test Accurancy: 0.3675

Evaluate personalized models
Averaged Train Loss: 0.0117
Averaged Test Accurancy: 0.9913    Std Test Accurancy: 0.0120
------------------------- time cost ------------------------- 30.711999893188477

-------------Round number: 23-------------

Evaluate global models
Averaged Train Loss: 1.9760
Averaged Test Accurancy: 0.5594    Std Test Accurancy: 0.3692

Evaluate personalized models
Averaged Train Loss: 0.0110
Averaged Test Accurancy: 0.9916    Std Test Accurancy: 0.0114
------------------------- time cost ------------------------- 31.327998638153076

-------------Round number: 24-------------

Evaluate global models
Averaged Train Loss: 1.9763
Averaged Test Accurancy: 0.5627    Std Test Accurancy: 0.3666

Evaluate personalized models
Averaged Train Loss: 0.0104
Averaged Test Accurancy: 0.9916    Std Test Accurancy: 0.0114
------------------------- time cost ------------------------- 30.83449912071228

-------------Round number: 25-------------

Evaluate global models
Averaged Train Loss: 1.9777
Averaged Test Accurancy: 0.5632    Std Test Accurancy: 0.3688

Evaluate personalized models
Averaged Train Loss: 0.0099
Averaged Test Accurancy: 0.9919    Std Test Accurancy: 0.0107
------------------------- time cost ------------------------- 30.94499945640564

-------------Round number: 26-------------

Evaluate global models
Averaged Train Loss: 1.9735
Averaged Test Accurancy: 0.5673    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0094
Averaged Test Accurancy: 0.9919    Std Test Accurancy: 0.0108
------------------------- time cost ------------------------- 30.963000297546387

-------------Round number: 27-------------

Evaluate global models
Averaged Train Loss: 1.9768
Averaged Test Accurancy: 0.5659    Std Test Accurancy: 0.3679

Evaluate personalized models
Averaged Train Loss: 0.0090
Averaged Test Accurancy: 0.9919    Std Test Accurancy: 0.0108
------------------------- time cost ------------------------- 31.196499824523926

-------------Round number: 28-------------

Evaluate global models
Averaged Train Loss: 1.9735
Averaged Test Accurancy: 0.5648    Std Test Accurancy: 0.3680

Evaluate personalized models
Averaged Train Loss: 0.0087
Averaged Test Accurancy: 0.9919    Std Test Accurancy: 0.0108
------------------------- time cost ------------------------- 31.017998695373535

-------------Round number: 29-------------

Evaluate global models
Averaged Train Loss: 1.9729
Averaged Test Accurancy: 0.5582    Std Test Accurancy: 0.3685

Evaluate personalized models
Averaged Train Loss: 0.0083
Averaged Test Accurancy: 0.9919    Std Test Accurancy: 0.0108
------------------------- time cost ------------------------- 28.923500061035156

-------------Round number: 30-------------

Evaluate global models
Averaged Train Loss: 1.9736
Averaged Test Accurancy: 0.5665    Std Test Accurancy: 0.3659

Evaluate personalized models
Averaged Train Loss: 0.0080
Averaged Test Accurancy: 0.9918    Std Test Accurancy: 0.0108
------------------------- time cost ------------------------- 24.35950231552124

-------------Round number: 31-------------

Evaluate global models
Averaged Train Loss: 1.9752
Averaged Test Accurancy: 0.5609    Std Test Accurancy: 0.3677

Evaluate personalized models
Averaged Train Loss: 0.0076
Averaged Test Accurancy: 0.9915    Std Test Accurancy: 0.0114
------------------------- time cost ------------------------- 24.96250009536743

-------------Round number: 32-------------

Evaluate global models
Averaged Train Loss: 1.9747
Averaged Test Accurancy: 0.5575    Std Test Accurancy: 0.3679

Evaluate personalized models
Averaged Train Loss: 0.0073
Averaged Test Accurancy: 0.9914    Std Test Accurancy: 0.0113
------------------------- time cost ------------------------- 25.121499061584473

-------------Round number: 33-------------

Evaluate global models
Averaged Train Loss: 1.9733
Averaged Test Accurancy: 0.5720    Std Test Accurancy: 0.3664

Evaluate personalized models
Averaged Train Loss: 0.0069
Averaged Test Accurancy: 0.9915    Std Test Accurancy: 0.0114
------------------------- time cost ------------------------- 25.499517917633057

-------------Round number: 34-------------

Evaluate global models
Averaged Train Loss: 1.9725
Averaged Test Accurancy: 0.5633    Std Test Accurancy: 0.3677

Evaluate personalized models
Averaged Train Loss: 0.0065
Averaged Test Accurancy: 0.9916    Std Test Accurancy: 0.0114
------------------------- time cost ------------------------- 20.67782950401306

-------------Round number: 35-------------

Evaluate global models
Averaged Train Loss: 1.9726
Averaged Test Accurancy: 0.5624    Std Test Accurancy: 0.3670

Evaluate personalized models
Averaged Train Loss: 0.0062
Averaged Test Accurancy: 0.9917    Std Test Accurancy: 0.0115
------------------------- time cost ------------------------- 20.481176137924194

-------------Round number: 36-------------

Evaluate global models
Averaged Train Loss: 1.9723
Averaged Test Accurancy: 0.5635    Std Test Accurancy: 0.3675

Evaluate personalized models
Averaged Train Loss: 0.0058
Averaged Test Accurancy: 0.9916    Std Test Accurancy: 0.0114
------------------------- time cost ------------------------- 20.569233179092407

-------------Round number: 37-------------

Evaluate global models
Averaged Train Loss: 1.9754
Averaged Test Accurancy: 0.5662    Std Test Accurancy: 0.3661

Evaluate personalized models
Averaged Train Loss: 0.0055
Averaged Test Accurancy: 0.9922    Std Test Accurancy: 0.0101
------------------------- time cost ------------------------- 19.524396657943726

-------------Round number: 38-------------

Evaluate global models
Averaged Train Loss: 1.9726
Averaged Test Accurancy: 0.5613    Std Test Accurancy: 0.3668

Evaluate personalized models
Averaged Train Loss: 0.0051
Averaged Test Accurancy: 0.9923    Std Test Accurancy: 0.0101
------------------------- time cost ------------------------- 20.7693932056427

-------------Round number: 39-------------

Evaluate global models
Averaged Train Loss: 1.9727
Averaged Test Accurancy: 0.5642    Std Test Accurancy: 0.3669

Evaluate personalized models
Averaged Train Loss: 0.0048
Averaged Test Accurancy: 0.9925    Std Test Accurancy: 0.0094
------------------------- time cost ------------------------- 19.890989303588867

-------------Round number: 40-------------

Evaluate global models
Averaged Train Loss: 1.9742
Averaged Test Accurancy: 0.5659    Std Test Accurancy: 0.3661

Evaluate personalized models
Averaged Train Loss: 0.0045
Averaged Test Accurancy: 0.9925    Std Test Accurancy: 0.0094
------------------------- time cost ------------------------- 20.083259344100952

-------------Round number: 41-------------

Evaluate global models
Averaged Train Loss: 1.9793
Averaged Test Accurancy: 0.5602    Std Test Accurancy: 0.3672

Evaluate personalized models
Averaged Train Loss: 0.0042
Averaged Test Accurancy: 0.9926    Std Test Accurancy: 0.0095
------------------------- time cost ------------------------- 19.456010818481445

-------------Round number: 42-------------

Evaluate global models
Averaged Train Loss: 1.9783
Averaged Test Accurancy: 0.5580    Std Test Accurancy: 0.3690

Evaluate personalized models
Averaged Train Loss: 0.0040
Averaged Test Accurancy: 0.9928    Std Test Accurancy: 0.0095
------------------------- time cost ------------------------- 21.84886121749878

-------------Round number: 43-------------

Evaluate global models
Averaged Train Loss: 1.9713
Averaged Test Accurancy: 0.5607    Std Test Accurancy: 0.3670

Evaluate personalized models
Averaged Train Loss: 0.0037
Averaged Test Accurancy: 0.9928    Std Test Accurancy: 0.0095
------------------------- time cost ------------------------- 19.521793603897095

-------------Round number: 44-------------

Evaluate global models
Averaged Train Loss: 1.9824
Averaged Test Accurancy: 0.5589    Std Test Accurancy: 0.3672

Evaluate personalized models
Averaged Train Loss: 0.0035
Averaged Test Accurancy: 0.9929    Std Test Accurancy: 0.0096
------------------------- time cost ------------------------- 19.290769338607788

-------------Round number: 45-------------

Evaluate global models
Averaged Train Loss: 1.9737
Averaged Test Accurancy: 0.5604    Std Test Accurancy: 0.3684

Evaluate personalized models
Averaged Train Loss: 0.0033
Averaged Test Accurancy: 0.9930    Std Test Accurancy: 0.0090
------------------------- time cost ------------------------- 20.04375410079956

-------------Round number: 46-------------

Evaluate global models
Averaged Train Loss: 1.9760
Averaged Test Accurancy: 0.5590    Std Test Accurancy: 0.3682

Evaluate personalized models
Averaged Train Loss: 0.0031
Averaged Test Accurancy: 0.9931    Std Test Accurancy: 0.0090
------------------------- time cost ------------------------- 20.295842170715332

-------------Round number: 47-------------

Evaluate global models
Averaged Train Loss: 1.9699
Averaged Test Accurancy: 0.5655    Std Test Accurancy: 0.3670

Evaluate personalized models
Averaged Train Loss: 0.0029
Averaged Test Accurancy: 0.9931    Std Test Accurancy: 0.0090
------------------------- time cost ------------------------- 19.7221519947052

-------------Round number: 48-------------

Evaluate global models
Averaged Train Loss: 1.9714
Averaged Test Accurancy: 0.5678    Std Test Accurancy: 0.3676

Evaluate personalized models
Averaged Train Loss: 0.0027
Averaged Test Accurancy: 0.9933    Std Test Accurancy: 0.0091
------------------------- time cost ------------------------- 19.734699487686157

-------------Round number: 49-------------

Evaluate global models
Averaged Train Loss: 1.9733
Averaged Test Accurancy: 0.5620    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0026
Averaged Test Accurancy: 0.9934    Std Test Accurancy: 0.0083
------------------------- time cost ------------------------- 19.955345630645752

-------------Round number: 50-------------

Evaluate global models
Averaged Train Loss: 1.9727
Averaged Test Accurancy: 0.5630    Std Test Accurancy: 0.3667

Evaluate personalized models
Averaged Train Loss: 0.0024
Averaged Test Accurancy: 0.9937    Std Test Accurancy: 0.0076
------------------------- time cost ------------------------- 20.077887535095215

-------------Round number: 51-------------

Evaluate global models
Averaged Train Loss: 1.9706
Averaged Test Accurancy: 0.5612    Std Test Accurancy: 0.3679

Evaluate personalized models
Averaged Train Loss: 0.0023
Averaged Test Accurancy: 0.9937    Std Test Accurancy: 0.0076
------------------------- time cost ------------------------- 20.093010187149048

-------------Round number: 52-------------

Evaluate global models
Averaged Train Loss: 1.9742
Averaged Test Accurancy: 0.5618    Std Test Accurancy: 0.3673

Evaluate personalized models
Averaged Train Loss: 0.0022
Averaged Test Accurancy: 0.9941    Std Test Accurancy: 0.0078
------------------------- time cost ------------------------- 19.445154190063477

-------------Round number: 53-------------

Evaluate global models
Averaged Train Loss: 1.9768
Averaged Test Accurancy: 0.5711    Std Test Accurancy: 0.3664

Evaluate personalized models
Averaged Train Loss: 0.0021
Averaged Test Accurancy: 0.9942    Std Test Accurancy: 0.0078
------------------------- time cost ------------------------- 20.400503396987915

-------------Round number: 54-------------

Evaluate global models
Averaged Train Loss: 1.9782
Averaged Test Accurancy: 0.5605    Std Test Accurancy: 0.3685

Evaluate personalized models
Averaged Train Loss: 0.0020
Averaged Test Accurancy: 0.9942    Std Test Accurancy: 0.0078
------------------------- time cost ------------------------- 20.151400327682495

-------------Round number: 55-------------

Evaluate global models
Averaged Train Loss: 1.9753
Averaged Test Accurancy: 0.5597    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0019
Averaged Test Accurancy: 0.9942    Std Test Accurancy: 0.0078
------------------------- time cost ------------------------- 20.62429428100586

-------------Round number: 56-------------

Evaluate global models
Averaged Train Loss: 1.9698
Averaged Test Accurancy: 0.5702    Std Test Accurancy: 0.3653

Evaluate personalized models
Averaged Train Loss: 0.0018
Averaged Test Accurancy: 0.9943    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 19.9213969707489

-------------Round number: 57-------------

Evaluate global models
Averaged Train Loss: 1.9745
Averaged Test Accurancy: 0.5600    Std Test Accurancy: 0.3661

Evaluate personalized models
Averaged Train Loss: 0.0017
Averaged Test Accurancy: 0.9942    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.132059335708618

-------------Round number: 58-------------

Evaluate global models
Averaged Train Loss: 1.9702
Averaged Test Accurancy: 0.5673    Std Test Accurancy: 0.3660

Evaluate personalized models
Averaged Train Loss: 0.0016
Averaged Test Accurancy: 0.9943    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.51990795135498

-------------Round number: 59-------------

Evaluate global models
Averaged Train Loss: 1.9686
Averaged Test Accurancy: 0.5646    Std Test Accurancy: 0.3671

Evaluate personalized models
Averaged Train Loss: 0.0015
Averaged Test Accurancy: 0.9943    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 21.599223375320435

-------------Round number: 60-------------

Evaluate global models
Averaged Train Loss: 1.9694
Averaged Test Accurancy: 0.5654    Std Test Accurancy: 0.3665

Evaluate personalized models
Averaged Train Loss: 0.0015
Averaged Test Accurancy: 0.9943    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.877036809921265

-------------Round number: 61-------------

Evaluate global models
Averaged Train Loss: 1.9698
Averaged Test Accurancy: 0.5655    Std Test Accurancy: 0.3649

Evaluate personalized models
Averaged Train Loss: 0.0014
Averaged Test Accurancy: 0.9942    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 19.994628429412842

-------------Round number: 62-------------

Evaluate global models
Averaged Train Loss: 1.9773
Averaged Test Accurancy: 0.5671    Std Test Accurancy: 0.3658

Evaluate personalized models
Averaged Train Loss: 0.0014
Averaged Test Accurancy: 0.9942    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.9514741897583

-------------Round number: 63-------------

Evaluate global models
Averaged Train Loss: 1.9749
Averaged Test Accurancy: 0.5648    Std Test Accurancy: 0.3658

Evaluate personalized models
Averaged Train Loss: 0.0013
Averaged Test Accurancy: 0.9943    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.00505828857422

-------------Round number: 64-------------

Evaluate global models
Averaged Train Loss: 1.9745
Averaged Test Accurancy: 0.5635    Std Test Accurancy: 0.3673

Evaluate personalized models
Averaged Train Loss: 0.0012
Averaged Test Accurancy: 0.9943    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.830174922943115

-------------Round number: 65-------------

Evaluate global models
Averaged Train Loss: 1.9755
Averaged Test Accurancy: 0.5659    Std Test Accurancy: 0.3652

Evaluate personalized models
Averaged Train Loss: 0.0012
Averaged Test Accurancy: 0.9943    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 19.854831218719482

-------------Round number: 66-------------

Evaluate global models
Averaged Train Loss: 1.9752
Averaged Test Accurancy: 0.5742    Std Test Accurancy: 0.3656

Evaluate personalized models
Averaged Train Loss: 0.0011
Averaged Test Accurancy: 0.9944    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.281349420547485

-------------Round number: 67-------------

Evaluate global models
Averaged Train Loss: 1.9764
Averaged Test Accurancy: 0.5656    Std Test Accurancy: 0.3677

Evaluate personalized models
Averaged Train Loss: 0.0011
Averaged Test Accurancy: 0.9944    Std Test Accurancy: 0.0079
------------------------- time cost ------------------------- 20.36415934562683

-------------Round number: 68-------------

Evaluate global models
Averaged Train Loss: 1.9750
Averaged Test Accurancy: 0.5667    Std Test Accurancy: 0.3681

Evaluate personalized models
Averaged Train Loss: 0.0011
Averaged Test Accurancy: 0.9945    Std Test Accurancy: 0.0074
------------------------- time cost ------------------------- 20.508341789245605

-------------Round number: 69-------------

Evaluate global models
Averaged Train Loss: 1.9753
Averaged Test Accurancy: 0.5653    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0010
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0074
------------------------- time cost ------------------------- 20.192611932754517

-------------Round number: 70-------------

Evaluate global models
Averaged Train Loss: 1.9701
Averaged Test Accurancy: 0.5616    Std Test Accurancy: 0.3672

Evaluate personalized models
Averaged Train Loss: 0.0010
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0074
------------------------- time cost ------------------------- 20.344376802444458

-------------Round number: 71-------------

Evaluate global models
Averaged Train Loss: 1.9760
Averaged Test Accurancy: 0.5666    Std Test Accurancy: 0.3647

Evaluate personalized models
Averaged Train Loss: 0.0009
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0074
------------------------- time cost ------------------------- 20.49441170692444

-------------Round number: 72-------------

Evaluate global models
Averaged Train Loss: 1.9741
Averaged Test Accurancy: 0.5624    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0009
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0074
------------------------- time cost ------------------------- 20.169414043426514

-------------Round number: 73-------------

Evaluate global models
Averaged Train Loss: 1.9778
Averaged Test Accurancy: 0.5636    Std Test Accurancy: 0.3668

Evaluate personalized models
Averaged Train Loss: 0.0009
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0066
------------------------- time cost ------------------------- 21.009913206100464

-------------Round number: 74-------------

Evaluate global models
Averaged Train Loss: 1.9678
Averaged Test Accurancy: 0.5639    Std Test Accurancy: 0.3653

Evaluate personalized models
Averaged Train Loss: 0.0008
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0066
------------------------- time cost ------------------------- 20.650309801101685

-------------Round number: 75-------------

Evaluate global models
Averaged Train Loss: 1.9707
Averaged Test Accurancy: 0.5686    Std Test Accurancy: 0.3673

Evaluate personalized models
Averaged Train Loss: 0.0008
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0066
------------------------- time cost ------------------------- 20.956559896469116

-------------Round number: 76-------------

Evaluate global models
Averaged Train Loss: 1.9695
Averaged Test Accurancy: 0.5677    Std Test Accurancy: 0.3664

Evaluate personalized models
Averaged Train Loss: 0.0008
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0066
------------------------- time cost ------------------------- 20.387966871261597

-------------Round number: 77-------------

Evaluate global models
Averaged Train Loss: 1.9733
Averaged Test Accurancy: 0.5692    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0008
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0066
------------------------- time cost ------------------------- 20.69866371154785

-------------Round number: 78-------------

Evaluate global models
Averaged Train Loss: 1.9734
Averaged Test Accurancy: 0.5671    Std Test Accurancy: 0.3666

Evaluate personalized models
Averaged Train Loss: 0.0007
Averaged Test Accurancy: 0.9946    Std Test Accurancy: 0.0066
------------------------- time cost ------------------------- 20.886064052581787

-------------Round number: 79-------------

Evaluate global models
Averaged Train Loss: 1.9714
Averaged Test Accurancy: 0.5673    Std Test Accurancy: 0.3652

Evaluate personalized models
Averaged Train Loss: 0.0007
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.78849196434021

-------------Round number: 80-------------

Evaluate global models
Averaged Train Loss: 1.9709
Averaged Test Accurancy: 0.5631    Std Test Accurancy: 0.3651

Evaluate personalized models
Averaged Train Loss: 0.0007
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.61062264442444

-------------Round number: 81-------------

Evaluate global models
Averaged Train Loss: 1.9739
Averaged Test Accurancy: 0.5661    Std Test Accurancy: 0.3665

Evaluate personalized models
Averaged Train Loss: 0.0007
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.189253568649292

-------------Round number: 82-------------

Evaluate global models
Averaged Train Loss: 1.9784
Averaged Test Accurancy: 0.5635    Std Test Accurancy: 0.3650

Evaluate personalized models
Averaged Train Loss: 0.0007
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.01486110687256

-------------Round number: 83-------------

Evaluate global models
Averaged Train Loss: 1.9727
Averaged Test Accurancy: 0.5657    Std Test Accurancy: 0.3654

Evaluate personalized models
Averaged Train Loss: 0.0006
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.66630792617798

-------------Round number: 84-------------

Evaluate global models
Averaged Train Loss: 1.9747
Averaged Test Accurancy: 0.5709    Std Test Accurancy: 0.3653

Evaluate personalized models
Averaged Train Loss: 0.0006
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.221856355667114

-------------Round number: 85-------------

Evaluate global models
Averaged Train Loss: 1.9767
Averaged Test Accurancy: 0.5594    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0006
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.890414714813232

-------------Round number: 86-------------

Evaluate global models
Averaged Train Loss: 1.9720
Averaged Test Accurancy: 0.5635    Std Test Accurancy: 0.3664

Evaluate personalized models
Averaged Train Loss: 0.0006
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.05021095275879

-------------Round number: 87-------------

Evaluate global models
Averaged Train Loss: 1.9731
Averaged Test Accurancy: 0.5669    Std Test Accurancy: 0.3662

Evaluate personalized models
Averaged Train Loss: 0.0006
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.432615995407104

-------------Round number: 88-------------

Evaluate global models
Averaged Train Loss: 1.9686
Averaged Test Accurancy: 0.5645    Std Test Accurancy: 0.3661

Evaluate personalized models
Averaged Train Loss: 0.0006
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.8109073638916

-------------Round number: 89-------------

Evaluate global models
Averaged Train Loss: 1.9731
Averaged Test Accurancy: 0.5698    Std Test Accurancy: 0.3677

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.686655521392822

-------------Round number: 90-------------

Evaluate global models
Averaged Train Loss: 1.9740
Averaged Test Accurancy: 0.5651    Std Test Accurancy: 0.3665

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.67627501487732

-------------Round number: 91-------------

Evaluate global models
Averaged Train Loss: 1.9734
Averaged Test Accurancy: 0.5728    Std Test Accurancy: 0.3673

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.76585340499878

-------------Round number: 92-------------

Evaluate global models
Averaged Train Loss: 1.9764
Averaged Test Accurancy: 0.5705    Std Test Accurancy: 0.3671

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.63252568244934

-------------Round number: 93-------------

Evaluate global models
Averaged Train Loss: 1.9809
Averaged Test Accurancy: 0.5692    Std Test Accurancy: 0.3679

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 20.961985111236572

-------------Round number: 94-------------

Evaluate global models
Averaged Train Loss: 1.9721
Averaged Test Accurancy: 0.5717    Std Test Accurancy: 0.3668

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9947    Std Test Accurancy: 0.0067
------------------------- time cost ------------------------- 19.476903200149536

-------------Round number: 95-------------

Evaluate global models
Averaged Train Loss: 1.9680
Averaged Test Accurancy: 0.5652    Std Test Accurancy: 0.3686

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9948    Std Test Accurancy: 0.0064
------------------------- time cost ------------------------- 21.217624187469482

-------------Round number: 96-------------

Evaluate global models
Averaged Train Loss: 1.9730
Averaged Test Accurancy: 0.5730    Std Test Accurancy: 0.3660

Evaluate personalized models
Averaged Train Loss: 0.0005
Averaged Test Accurancy: 0.9948    Std Test Accurancy: 0.0064
------------------------- time cost ------------------------- 19.62902045249939

-------------Round number: 97-------------

Evaluate global models
Averaged Train Loss: 1.9733
Averaged Test Accurancy: 0.5780    Std Test Accurancy: 0.3656

Evaluate personalized models
Averaged Train Loss: 0.0004
Averaged Test Accurancy: 0.9948    Std Test Accurancy: 0.0064
------------------------- time cost ------------------------- 19.86294937133789

-------------Round number: 98-------------

Evaluate global models
Averaged Train Loss: 1.9717
Averaged Test Accurancy: 0.5618    Std Test Accurancy: 0.3673

Evaluate personalized models
Averaged Train Loss: 0.0004
Averaged Test Accurancy: 0.9948    Std Test Accurancy: 0.0064
------------------------- time cost ------------------------- 19.49715256690979

-------------Round number: 99-------------

Evaluate global models
Averaged Train Loss: 1.9719
Averaged Test Accurancy: 0.5627    Std Test Accurancy: 0.3673

Evaluate personalized models
Averaged Train Loss: 0.0004
Averaged Test Accurancy: 0.9948    Std Test Accurancy: 0.0064
------------------------- time cost ------------------------- 20.113330364227295

-------------Round number: 100-------------

Evaluate global models
Averaged Train Loss: 1.9719
Averaged Test Accurancy: 0.5603    Std Test Accurancy: 0.3674

Evaluate personalized models
Averaged Train Loss: 0.0004
Averaged Test Accurancy: 0.9948    Std Test Accurancy: 0.0064
------------------------- time cost ------------------------- 19.864392280578613

Best accuracy.
0.9948337403719707

Average time cost per round.
23.542109179496766
File path: E:/Documents/GitHub/results/mnist_Ditto_¦Ë_0_attackers_4_0.h5

Average time cost: 3896.98s.
Traceback (most recent call last):
  File "main.py", line 515, in <module>
    run(args)
  File "main.py", line 327, in run
    average_data(dataset=args.dataset, algorithm=args.algorithm, goal=args.goal, times=args.times)
  File "E:\Documents\GitHub\PFL-Non-IID\system\utils\result_utils.py", line 7, in average_data
    test_acc = get_all_results_for_one_algo(algorithm, dataset, goal, times)
  File "E:\Documents\GitHub\PFL-Non-IID\system\utils\result_utils.py", line 22, in get_all_results_for_one_algo
    test_acc.append(np.array(read_data_then_delete(file_name, delete=False)))
  File "E:\Documents\GitHub\PFL-Non-IID\system\utils\result_utils.py", line 30, in read_data_then_delete
    with h5py.File(file_path, 'r') as hf:
  File "D:\Software\Anaconda\envs\pfl\lib\site-packages\h5py\_hl\files.py", line 533, in __init__
    fid = make_fid(name, mode, userblock_size, fapl, fcpl, swmr=swmr)
  File "D:\Software\Anaconda\envs\pfl\lib\site-packages\h5py\_hl\files.py", line 226, in make_fid
    fid = h5f.open(name, flags, fapl=fapl)
  File "h5py\_objects.pyx", line 54, in h5py._objects.with_phil.wrapper
  File "h5py\_objects.pyx", line 55, in h5py._objects.with_phil.wrapper
  File "h5py\h5f.pyx", line 106, in h5py.h5f.open
FileNotFoundError: [Errno 2] Unable to open file (unable to open file: name = '../results/mnist_Ditto_¦Ë_0_attackers_4_0.h5', errno = 2, error message = 'No such file or directory', flags = 0, o_flags = 0)
